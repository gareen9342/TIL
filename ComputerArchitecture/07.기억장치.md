# 기억장치

> 프로그램과 데이터를 저장하는 장치      
> 기능과 저장장소에 따라 주기억장치와 보조기억장치로 구분한다.   

## 주기억장치
중앙처리장치과 직접 자료교환이 가능 -> 처리에 당장 필요한 프로그램이나 데이터를 저장한다.  

## 보조기억장치
주기억장치의 용량부족으로 인해 저장하기 어려운 대량의 자료를 기억하는 장치.     
가격이 저렴, 용량이 큼, 자료의 전송속도는 느림.    

## 지역성의 원리
지역성이란, 일반적으로 프로그램이 실행될 때 발생하는 번지들이 몇몇 한정된 영역만 반복적으로 저장하고 접근하는 현상을 말함. 

### 1. 시간적 지역성     
어떤 내용이 한번 참조되면, 곧바로 다시 참조되기 쉽다는 원리.  

### 2. 공간적 지역성  
어떤 내용이 참조되면, 그 내용에 가까운 곳에 있는 다른 내용이 곧바로 참조되기 쉽다는 원리     

## 기억장치계층 
-> 기억장치의 일반적인 구성은 가격과 성능을 절충한 여러 형태의 기억장치가 연결되어 있으며, **속도와 저장용량을 고려하여 구성한 구조**를 기억장치 계층 구조라고 함.        
-> 컴퓨터의 성능은 이런 기억장치의 접근속도에 의해 좌우된다.    

이런 두 계층 간에 전송되는 데이터의 최소 단위를 블록이라고 한다.    
히트 : 중앙처리장치가 요구하는 데이터가 상위계층의 어떤 블록에 있는 것을 의미     
미스 : 요구 하는 데이터를 상위계층에서 찾을 수 없을 때      
히트율 : 상위계층에서 찾을 수 있는 기억장치 접근 비율     
미스율 : 상위계층에서 찾을 수 없는 기억장치 접근 비율

-> 기억장치를 계층구조로 구성하는 궁극적인 목적은 입출력의 경제성 때문.

중앙처리장치의 처리속도는 주기억장치의 접근속도에 제한을 받기 때문에 접근시간이 빠른 캐시기억장치를 중간에 두어 현재 실행되는 프로그램의 일부와 자주 쓰이는 임시 데이터를 저장한다. 


## 기억방식, 물리적 특성
>기억장치를 기억방식과 물리적 특성에 따라 분류해보자

: 정적 기억장치와 동적 기억장치
: 휘발성 기억장치와 비휘발성기억장치
: 파괴적 기억장치와 비파괴적 기억장치

## 기억장치 성능평가
1. 기억용량
2. 접근시간
3. 사이클 시간
4. 기억장치 대역폭
5. 가격

컴퓨터 설계자들은 주기억장치와 중앙처리장치의 속도 차이를 개선하고, 주기억장치의 용량과 대역폭 한계를 극복하기 위한 여러 방법을 연구해왔다.

기억장치에 대한 접근속도를 빠르게 하는 기억장치로 복수모듈기억장치와 연관기억장치 두 가지가 있고
중앙처리장치와 가장 가까운 계층에서 기억장치의 접근속도를 향상시키는 캐시기억장치가 있다. 

주기억장치의 대역폭은 명령어 수행속도의 제한적인 요소.

### 복수모듈기억장치

> 기악장치모듈을 여러 개 가지고 있는 기억장치


주기억장치를 이용하는데에 중앙처리장치와 입출력장치가 경쟁하게 되므로 주기억장치의 버스에 병목현상이 일어남.   
(폰노이만 병목현상)    

-> 주기억장치의 구조적 개선을 한다 -> MAR(Memory Address Register)와 MBR(Memory Buffer Register)를 추가한다. 
주기억 장치 주소 버스에서 ~ MAR ~ 기억장치 ~ MBR
(참고 : https://reversw.tistory.com/entry/MBR%EA%B3%BC-MAR%EC%9D%98-%EB%9C%BB )

이러한 기억장치모듈을 여러 개 가지게 하며 주기억장치와 CPU 속도차이의 문제점을 해결한다.    
모든 모듈에 동시에 병렬 접근

### 연관기억장치

기억장치에 접근하고자 하는 데이터의 주소를 알고 있다면 주기억장치에 한 번만 접근 함으로써 원하는 데이터를 어등ㄹ 수 있다.    
그러나 원하는 데이터가 저장되어 있는 단어의 주소를 모르는 경우에는 그렇게 할 수 없다.    
결국 처음이나 일정한 기준위치부터 순차적으로 접근하여 그 내용을 읽고 찾고자 하는 성명과 비교하는 작업을 찾을 때까지 반복해야함.    

-> 비효율적     
**이런 점을 개선한 기억장치** 

저장된 데이터에 접근하기 위하여 주소를 사용하지 않고, 저장되어 있는 데이터의 내용을 참조하여 원하는 데이터를 읽음 

### 캐시기억장치
주기억장치보다 속도가 빠른 기억소자로 중앙처리장치와 주기억장치간의 속도 차이를 줄여줌

-> 중앙처리장치가 주기억장치에 있는 데이터를 캐시기억장치에서 접근하려며느 그 데이터를 미리 캐시기억장치로 옮겨 놓아 접근할 수 있게 함. 
-> 이렇게 하려면, 주기억장치에서 접근할 데이터를 미리 예측할 수 있어야 함. 
-> 바로 이때 접근의 지역성을 이용한다
프로그램이 어떤 단어를 캐시기억장치에 저장해 놓을 떄 주위에 있는 단어도 함꼐 캐시기억장치에 옮겨놓으면 가까운 미래에 접근할 단어는 캐시기억장치에서 접근할 수 있고 이런 방법을 이용한다. 

#### 캐시기억장치의 사상방식
: 중앙처리장치가 캐시기억장치에서 데이터를 가져오려 할 떄 원하는 데이터가 없으면, 캐시기억장치의 일부분을 주기억장치로 보내고 주기억장치에서 원하는 데이터를 캐시기억장치로 가져오는 과정을 사상이라고 한다.
방법에는 직접사상, 연관사상, 집합-연관사상 방식이 있음

