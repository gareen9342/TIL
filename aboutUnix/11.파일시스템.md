# 파일 시스템 

디스크에 프로그램과 데이터를 저장할 때에는 파티션을 만들고, 파티션에 파일 시스템을 만들어 주어야 한다.    
이렇게  저장장치를 파일 디렉터리 트리 어딘가에 부착하는 것을 **마운트**라고 함    

유닉스 계열의 운영체제에서 파일트리는 루트 하나이고, 마운트시 어떤 디렉터리에 부착할 것인지 정해야 하다. 이 위치를 마운트 지점이라고 한다.

## mount 명령어

마운트 작업의 명령은 mount 인데 이것만 실행하면 시스템에 마운트되어 있는 파일 시스템을 다 보여주게 된다.
-> `/etc/mtab` 파일에 기록된 내용과 같다

mount명령의 출력 결과에서 각 라인은 마운트 되어 있는 하나의 파일 시스템을 기술한 것 

순서대로 아래와 같은 내용을 가짐

- 장치 : /dev/sda1 과 같은 것은 파일 시스템을 가지고 있는 파티션을 지정하는 이름     
- on 마운트 지점 : 파일 시스템에 부착되는 위치     
- type 파일 시스템 유형 : ext4또는 iso9660과 같은 것. 특수 목적의 가상 파일 시스템도 있음.    
- 마운트 옵션(optional) -> 마운팅시 사용한 옵션   

### mounting options

- swap : 스왑 파일 시스템
- tmpts : 휘발성 메모리인 RAM에서 일시적으로 파일을 저장하기 위해 사용하는 파일 시스템
- proc : 커널이 가진 프롯스 정보나 시스템 정보를 사용자 공간에 알려 줄 때 사용ㅇ
- systs : 하드웨어나 드라이버 정보와 같이 커널이 가진 정보를 사용자 공간에 알려 줄 때 사용하는 파일 시스템 
- devpts : 가상 터미널의 제어를 위해 사용하는 파일 시스템 /dev/ptx에  마운트

대부분 파일 시스템은 부팅시 마운트 되고, 리눅스에선 /etx/fstab 파일을 참조함. 

해당 파일의 내용은 6개의 필드로 구성

### /etc/fstab 필드

1. 디바이스 : 장치의 이름으로 디바이스 파일, 아니면 UUID로 구성된다. 이는 파일 시스테을 유일하게 구분해주는 128비트의 숫자.
2. 마운트 지점 : 파일 시스템 트리에서 디바이스가 부탁되는 위치 (디렉터리)
3. 파일 시스템 유형 
4. 옵션 : 마운트 옵션 (-o옵션으로 마운트 수행했을 때 어떻게 했는지)
5. 덤프 여부
6. 파일시스템 검사 여부

## unmount 
언마운트는 `unmount`라고 한다. 

## 파티션 
-> 저장 장치에서 고정된 크기의 일부 영역
물리적 저장 장치에 여러 개의 파티션을 만들 수 있다. 
각 파티션은 자신만의 디바이스 파일을 (/dev/...)를 가지고 있다.

하나의 파티션은 하나의 독립적 디스크처럼 사용할 수 있다. 

물리적 디스크의 특정 영역을 읽으려면 운영체제는 먼저 파티션의 위치나 크기에 관한 정보를 알아야 하는데, 이러한 정보는 파티션테이블(MBR 내의)에 저장되어 있다. 

대부분은 디스크를 두 개 이상의 파티션으로 나누어 사용한다 

이렇게 하면
- 하나의 디스크에서 리눅스오 윈도우 운영체제를 별도의 파티션에 설치할 수 있다. -> 멀티부팅   
- 특정 파티션이 손상되더라도 다른 파티션의 데이터는 보존될 수 있다.   
- 파티션별로 종류가 다른 파일시스템을 만들 수 있다( 여기서 종류란, 보안, 백업, 파일시스템 점검... )
- boot 영역을 별도의 파티션으로 분리하여 특정 파티션만 점검하도록ㅎ ㅏ면 부팅이 빨라질 수 있따.
- 시스템 로그나 메일 등 많이 쌓이는 /var 영역을 별도의 파티션으로 분리하면 루트 파티션의 가용공간이 부족해지는 문제를 방지할 수 있따. 
- 사용자 계정이 많을 경우 /home
- 보안이 중요하다면 /tmp를 별도의 파티션으로 구성하는 것을 고려 
- swap : 만약에 서버로 사용되게 된다면 크라이어늩의 수가 증가하면서 프로세스의 생성이 필요하고, 순간적으로 RAM의 사용량이 증가할 수 있음. 
이때 swap 파티션은 메모리의 용량 부족을 하드디스크로 대신하기 위한 디스크의 공간, 가상 메모리로 사용되는 영역